name: Verify Codex Agent Scripts

on:
  push:
    branches: [ main, master ]
  pull_request:

jobs:
  verify:
    runs-on: ubuntu-latest
    container:
      image: ghcr.io/openai/codex-universal:latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v4
      - name: Run setup
        run: .agent/setup.sh
      - name: Run checks
        run: .agent/check.sh
